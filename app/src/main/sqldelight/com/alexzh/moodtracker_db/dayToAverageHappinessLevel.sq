CREATE VIEW dayToAverageHappinessLevel AS
SELECT
    emotionHistoryEntity.date,
    emotionEntity.happinessLevel
FROM emotionHistoryEntity, emotionEntity
WHERE emotionHistoryEntity.emotionId = emotionEntity.id
ORDER BY emotionHistoryEntity.date ASC;

getDayToAverageHappinessLevel:
SELECT *
FROM dayToAverageHappinessLevel
WHERE date >= :startDate AND date <= :endDate;